!function(t,e,n){"use strict";function i(t,e){var n=null;return function(){var i=this,a=arguments;null===n&&(n=setTimeout((function(){t.apply(i,a),n=null}),e))}}var a,r=(a={},function(t){if(void 0!==a[t])return a[t];var e=document.createElement("div").style,n=t.charAt(0).toUpperCase()+t.slice(1),i=(t+" "+["webkit","moz","ms","o"].join(n+" ")+n).split(" ");for(var r in i)if(i[r]in e)return a[t]=i[r];return a[t]=!1}),o="http://www.w3.org/2000/svg",s=function(){var t;return function(){if(void 0!==t)return t;var e=document.createElement("div");return e.innerHTML="<svg/>",t=e.firstChild&&e.firstChild.namespaceURI===o}}(),l=t(e),c=r("transform"),u={itemContainer:"ul",itemSelector:"li",start:"center",fadeIn:400,loop:!1,autoplay:!1,pauseOnHover:!0,style:"coverflow",spacing:-.6,click:!0,keyboard:!0,scrollwheel:!0,touch:!0,nav:!1,buttons:!1,buttonPrev:"Previous",buttonNext:"Next",onItemSwitch:!1},f={main:"flipster",active:"flipster--active",container:"flipster__container",nav:"flipster__nav",navChild:"flipster__nav__child",navItem:"flipster__nav__item",navLink:"flipster__nav__link",navCurrent:"flipster__nav__item--current",navCategory:"flipster__nav__item--category",navCategoryLink:"flipster__nav__link--category",button:"flipster__button",buttonPrev:"flipster__button--prev",buttonNext:"flipster__button--next",item:"flipster__item",itemCurrent:"flipster__item--current",itemPast:"flipster__item--past",itemFuture:"flipster__item--future",itemContent:"flipster__item__content"},p=new RegExp("\\b("+f.itemCurrent+"|"+f.itemPast+"|"+f.itemFuture+")(.*?)(\\s|$)","g"),v=new RegExp("\\s\\s+","g");t.fn.flipster=function(e){var n="string"==typeof e;if(n){var a=Array.prototype.slice.call(arguments,1);return this.each((function(){var n=t(this).data("methods");return n[e]?n[e].apply(this,a):this}))}var r=t.extend({},u,e);return this.each((function(){var e,n,a,u,h,d,m,g,_,y=t(this),b=[],x=0,w=!1;function C(e){return e=e||"next",t('<button class="'+f.button+" "+("next"===e?f.buttonNext:f.buttonPrev)+'" role="button" />').html(function(t){var e="next"===t?r.buttonNext:r.buttonPrev;return"custom"!==r.buttons&&s?'<svg viewBox="0 0 13 20" xmlns="'+o+'" aria-labelledby="title"><title>'+e+'</title><polyline points="10,3 3,10 10,17"'+("next"===t?' transform="rotate(180 6.5,10)"':"")+"/></svg>":e}(e)).on("click",(function(t){L(e),t.preventDefault()}))}function k(){y.css("transition",""),n.css("transition",""),h.css("transition","")}function I(e){var i,o;e&&(y.css("transition","none"),n.css("transition","none"),h.css("transition","none")),a=n.width(),n.height((o=0,h.each((function(){(i=t(this).height())>o&&(o=i)})),o)),a?(u&&(clearInterval(u),u=!1),h.each((function(n){var i,o,s=t(this);s.attr("class",(function(t,e){return e&&e.replace(p,"").replace(v," ")})),i=s.outerWidth(),0!==r.spacing&&s.css("margin-right",i*r.spacing+"px"),o=s.position().left,b[n]=-1*(o+i/2-a/2),n===h.length-1&&(P(),e&&setTimeout(k,1))}))):u=u||setInterval((function(){I(e)}),500)}function P(){var e,i,o,s=h.length;h.each((function(n){e=t(this),i=" ",n===x?(i+=f.itemCurrent,o=s+1):n<x?(i+=f.itemPast+" "+f.itemPast+"-"+(x-n),o=s-(x-n)):(i+=f.itemFuture+" "+f.itemFuture+"-"+(n-x),o=s-(n-x)),e.css("z-index",o).attr("class",(function(t,e){return e&&e.replace(p,"").replace(v," ")+i}))})),x>=0&&(a&&void 0!==b[x]||I(!0),c?n.css("transform","translateX("+b[x]+"px)"):n.css({left:b[x]+"px"})),function(){if(r.nav){var e=d.data("flip-category");g.removeClass(f.navCurrent),_.filter((function(){return t(this).data("index")===x||e&&t(this).data("category")===e})).parent().addClass(f.navCurrent)}}()}function L(t){var e=x;if(!(h.length<=1))return"prev"===t?x>0?x--:r.loop&&(x=h.length-1):"next"===t?x<h.length-1?x++:r.loop&&(x=0):"number"==typeof t?x=t:void 0!==t&&(x=h.index(t),r.loop&&e!=x&&(e==h.length-1&&x!=h.length-2&&(x=0),0==e&&1!=x&&(x=h.length-1))),d=h.eq(x),x!==e&&r.onItemSwitch&&r.onItemSwitch.call(y,h[x],h[e]),P(),y}function D(t){return r.autoplay=t||r.autoplay,clearInterval(w),w=setInterval((function(){var t=x;L("next"),t!==x||r.loop||clearInterval(w)}),r.autoplay),y}function E(){return clearInterval(w),w=0,y}function M(t){return E(),r.autoplay&&t&&(w=-1),y}function T(){I(!0),y.hide().css("visibility","").addClass(f.active).fadeIn(r.fadeIn)}function X(){var e;if(n=y.find(r.itemContainer).addClass(f.container),!((h=n.find(r.itemSelector)).length<=1))return h.addClass(f.item).each((function(){var e=t(this);e.children("."+f.itemContent).length||e.wrapInner('<div class="'+f.itemContent+'" />')})),r.click&&h.on("click.flipster touchend.flipster",(function(e){t(this).hasClass(f.itemCurrent)||e.preventDefault(),L(this)})),r.buttons&&h.length>1&&(y.find("."+f.button).remove(),y.append(C("prev"),C("next"))),e={},!r.nav||h.length<=1||(m&&m.remove(),m=t('<ul class="'+f.nav+'" role="navigation" />'),_=t(""),h.each((function(n){var i=t(this),a=i.data("flip-category"),r=i.data("flip-title")||i.attr("title")||n,o=t('<a href="#" class="'+f.navLink+'">'+r+"</a>").data("index",n);if(_=_.add(o),a){if(!e[a]){var s=t('<li class="'+f.navItem+" "+f.navCategory+'">'),l=t('<a href="#" class="'+f.navLink+" "+f.navCategoryLink+'" data-flip-category="'+a+'">'+a+"</a>").data("category",a).data("index",n);e[a]=t('<ul class="'+f.navChild+'" />'),_=_.add(l),s.append(l,e[a]).appendTo(m)}e[a].append(o)}else m.append(o);o.wrap('<li class="'+f.navItem+'">')})),m.on("click","a",(function(e){var n=t(this).data("index");n>=0&&(L(n),e.preventDefault())})),"after"===r.nav?y.append(m):y.prepend(m),g=m.find("."+f.navItem)),x>=0&&L(x),y}e={jump:L,next:function(){return L("next")},prev:function(){return L("prev")},play:D,stop:E,pause:M,index:X},y.data("methods",e),y.hasClass(f.active)||function(){var t;if(y.css("visibility","hidden"),X(),h.length<=1)y.css("visibility","");else{t=!!r.style&&"flipster--"+r.style.split(" ").join(" flipster--"),y.addClass([f.main,c?"flipster--transform":" flipster--no-transform",t,r.click?"flipster--click":""].join(" ")),r.start&&(x="center"===r.start?Math.floor(h.length/2):r.start),L(x);var e,a=y.find("img");if(a.length){var o=0;a.on("load",(function(){++o>=a.length&&T()})),setTimeout(T,750)}else T();l.on("resize.flipster",i(I,400)),r.autoplay&&D(),r.pauseOnHover&&n.on("mouseenter.flipster",(function(){w?M(!0):E()})).on("mouseleave.flipster",(function(){-1===w&&D()})),e=y,r.keyboard&&(e[0].tabIndex=0,e.on("keydown.flipster",i((function(t){var e=t.which;37!==e&&39!==e||(L(37===e?"prev":"next"),t.preventDefault())}),250))),function(t){if(r.scrollwheel){var e,n,a=!1,o=0,s=0,c=0,u=/mozilla/.test(navigator.userAgent.toLowerCase())&&!/webkit/.test(navigator.userAgent.toLowerCase());t.on("mousewheel.flipster wheel.flipster",(function(){a=!0})).on("mousewheel.flipster wheel.flipster",i((function(t){clearTimeout(s),s=setTimeout((function(){o=0,c=0}),300),t=t.originalEvent,c+=t.wheelDelta||-1*(t.deltaY+t.deltaX),Math.abs(c)<25&&!u||(o++,n!==(e=c>0?"prev":"next")&&(o=0),n=e,(o<6||o%3==0)&&L(e),c=0)}),50)),l.on("mousewheel.flipster wheel.flipster",(function(t){a&&(t.preventDefault(),a=!1)}))}}(n),function(t){var e,n,i,a,o,s;r.touch&&t.on({"touchstart.flipster":function(t){t=t.originalEvent,e=t.touches?t.touches[0].clientX:t.clientX,n=t.touches?t.touches[0].clientY:t.clientY},"touchmove.flipster":function(t){t=t.originalEvent,i=t.touches?t.touches[0].clientX:t.clientX,a=t.touches?t.touches[0].clientY:t.clientY,s=i-e,o=a-n,Math.abs(s)>30&&Math.abs(o)<100&&t.preventDefault()},"touchend.flipster touchcancel.flipster ":function(){s=i-e,o=a-n,Math.abs(s)>30&&Math.abs(o)<100&&L(s>0?"prev":"next")}})}(n)}}()}))}}(jQuery,window);
//# sourceMappingURL=jquery.flipster.min.js.map